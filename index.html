<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Classic client-side Minesweeper game with full undo and learning mode support" />
  <meta name="theme-color" content="#217ac0" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Minesweeper" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><style>.cell{fill:%23c0c0c0;stroke:%23666;stroke-width:1}.cell-r{fill:%23d0d0d0}.n{font-family:Arial;font-weight:bold;font-size:14px;text-anchor:middle;dominant-baseline:central}.n1{fill:%230000cc}.n2{fill:%23008000}.emoji{font-size:16px;text-anchor:middle;dominant-baseline:central}</style></defs><rect fill='%23a0a0a0' width='100' height='100'/><rect class='cell cell-r' x='10' y='10' width='22' height='22'/><text class='n n2' x='21' y='21'>2</text><rect class='cell cell-r' x='38' y='10' width='22' height='22'/><text class='n n1' x='49' y='21'>1</text><rect class='cell' x='66' y='10' width='22' height='22'/><rect class='cell cell-r' x='10' y='38' width='22' height='22'/><rect class='cell cell-r' x='38' y='38' width='22' height='22'/><text class='emoji' x='49' y='49'>üí£</text><rect class='cell' x='66' y='38' width='22' height='22'/><text class='emoji' x='77' y='49'>üö©</text><rect class='cell' x='10' y='66' width='22' height='22'/><rect class='cell' x='38' y='66' width='22' height='22'/><rect class='cell' x='66' y='66' width='22' height='22'/></svg>" />
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><defs><style>.cell{fill:%23c0c0c0;stroke:%23888;stroke-width:1.5}.cell-r{fill:%23d0d0d0}.n{font-family:Arial;font-weight:bold;font-size:24px;text-anchor:middle;dominant-baseline:central}.n1{fill:%230000cc}.n2{fill:%23008000}.emoji{font-size:32px;text-anchor:middle;dominant-baseline:central}</style></defs><rect fill='%23b0b0b0' width='180' height='180' rx='40'/><rect class='cell cell-r' x='18' y='18' width='42' height='42'/><text class='n n2' x='39' y='39'>2</text><rect class='cell cell-r' x='66' y='18' width='42' height='42'/><text class='n n1' x='87' y='39'>1</text><rect class='cell' x='114' y='18' width='42' height='42'/><rect class='cell cell-r' x='18' y='66' width='42' height='42'/><rect class='cell cell-r' x='66' y='66' width='42' height='42'/><text class='emoji' x='87' y='87'>üí£</text><rect class='cell' x='114' y='66' width='42' height='42'/><text class='emoji' x='135' y='87'>üö©</text><rect class='cell' x='18' y='114' width='42' height='42'/><rect class='cell' x='66' y='114' width='42' height='42'/><rect class='cell' x='114' y='114' width='42' height='42'/></svg>" />
  <title>Minesweeper</title>
  <script type="module" crossorigin src="/minesweeper/assets/index-3yzwrRbw.js"></script>
  <link rel="stylesheet" crossorigin href="/minesweeper/assets/index-DVIXd7zL.css">
</head>
<body>
  <div id="app" class="app-container">
    <div class="game-container">
      <!-- Game Info Header -->
      <div class="game-header">
        <div class="info-display">
          <div class="info-left">
            <div class="counter-container">
              <span class="label">Mines:</span>
              <div class="display" id="counter">010</div>
            </div>
          </div>
          <button id="status" class="smiley-btn">üòä</button>
          <div class="info-right">
            <div class="timer-container">
              <span class="label">Time:</span>
              <div class="display" id="timer">000</div>
            </div>
            <button id="undo-btn-header" class="undo-btn-header" disabled>‚éå</button>
          </div>
        </div>
      </div>

      <!-- Message Display -->
      <div id="message" class="message">
        <span class="hint mobile-hint">üì± Tap to reveal | Long press to flag | Double tap to chord</span>
        <span class="hint desktop-hint">üñ±Ô∏è Click to reveal | Right-click to flag | Double-click to chord</span>
        <span id="message-alert" class="alert-text"></span>
        <button id="restart-btn" class="message-btn" type="button">Restart</button>
      </div>

      <!-- Game Board Container -->
      <div id="board-container" class="board-container">
        <div id="board-container-inner" class="board-container-inner">
        </div>
      </div>

      <!-- Controls -->
      <div class="controls">
        <div class="controls-row">
          <div class="difficulty-buttons">
            <button id="difficulty-easy" class="difficulty-btn active">Easy (9x9)</button>
            <button id="difficulty-medium" class="difficulty-btn">Medium (16x16)</button>
            <button id="difficulty-custom" class="difficulty-btn">Custom</button>
          </div>
          <label class="learning-mode-label">
            <input type="checkbox" id="learning-mode-toggle" />
            <span>Learn</span>
          </label>
        </div>
      </div>

      <!-- Stats -->
      <div class="stats">
        <h3>High Scores</h3>
        <div id="high-scores" class="high-scores">
          <div id="scores-easy" class="score-section">
            <h4>Easy</h4>
            <ol id="easy-scores" class="score-list"></ol>
          </div>
          <div id="scores-medium" class="score-section">
            <h4>Medium</h4>
            <ol id="medium-scores" class="score-list"></ol>
          </div>
          <div id="scores-custom" class="score-section">
            <h4>Custom</h4>
            <ol id="custom-scores" class="score-list"></ol>
          </div>
        </div>
      </div>
    </div>

    <div id="custom-modal" class="modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="custom-title">
        <h2 id="custom-title">Custom Game</h2>
        <div class="modal-body">
          <label for="custom-rows">Rows</label>
          <input id="custom-rows" type="number" min="5" max="30" />

          <label for="custom-cols">Cols</label>
          <input id="custom-cols" type="number" min="5" max="30" />

          <label for="custom-mines">Mines</label>
          <input id="custom-mines" type="number" min="1" />

          <div id="custom-error" class="modal-error"></div>
        </div>
        <div class="modal-actions">
          <button id="custom-cancel" class="action-btn" type="button">Cancel</button>
          <button id="custom-start" class="action-btn" type="button">Start</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Register service worker for PWA functionality
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js').then(
          (registration) => {
            console.log('Service Worker registered:', registration);
          },
          (error) => {
            console.log('Service Worker registration failed:', error);
          }
        );
      });
    }
  </script>
</body>
</html>
